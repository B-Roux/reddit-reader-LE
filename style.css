:root {
    
    /* 
     * From https://github.com/morhetz/gruvbox
     * (MIT/X11 License)
     */

    /* Background/Foreground Colors */
    --gruvbox-light-0: #fbf1c7;
    --gruvbox-light-1: #ebdbb2;
    --gruvbox-light-2: #d5c4a1;
    --gruvbox-light-3: #bdae93;
    --gruvbox-light-4: #a89984;

    --gruvbox-dark-0:  #282828;
    --gruvbox-dark-1:  #3c3836;
    --gruvbox-dark-2:  #504945;
    --gruvbox-dark-3:  #665c54;
    --gruvbox-dark-4:  #7c6f64;

    /* Basic Colors */
    --gruvbox-dark-red:    #cc241d;
    --gruvbox-dark-green:  #98971a;
    --gruvbox-dark-yellow: #d79921;
    --gruvbox-dark-blue:   #458588;
    --gruvbox-dark-purple: #b16286;
    --gruvbox-dark-aqua:   #689d6a;
    --gruvbox-dark-gray:   #a89984;
    --gruvbox-dark-orange: #d65d0e;

    --gruvbox-light-red:     #cc241d;
    --gruvbox-light-green:   #98971a;
    --gruvbox-light-yellow:  #d79921;
    --gruvbox-light-blue:    #458588;
    --gruvbox-light-purple:  #b16286;
    --gruvbox-light-aqua:    #689d6a;
    --gruvbox-light-gray:    #7c6f64;
    --gruvbox-light-orange:  #d65d0e;

    /* Alternate Variants */
    --gruvbox-dark-red-alt:    #fb4934;
    --gruvbox-dark-green-alt:  #b8bb26;
    --gruvbox-dark-yellow-alt: #fabd2f;
    --gruvbox-dark-blue-alt:   #83a598;
    --gruvbox-dark-purple-alt: #d3869b;
    --gruvbox-dark-aqua-alt:   #8ec07c;
    --gruvbox-dark-gray-alt:   #928374;
    --gruvbox-dark-orange-alt: #fe8019;

    --gruvbox-light-red-alt:    #9d0006;
    --gruvbox-light-green-alt:  #79740e;
    --gruvbox-light-yellow-alt: #b57614;
    --gruvbox-light-blue-alt:   #076678;
    --gruvbox-light-purple-alt: #8f3f71;
    --gruvbox-light-aqua-alt:   #427b58;
    --gruvbox-light-gray-alt:   #928374;
    --gruvbox-light-orange-alt: #af3a03;

    /* Defaults (Dark Mode) */
    --gruvbox-foreground-0: var(--gruvbox-light-0);
    --gruvbox-foreground-1: var(--gruvbox-light-1);
    --gruvbox-foreground-2: var(--gruvbox-light-2);
    --gruvbox-foreground-3: var(--gruvbox-light-3);
    --gruvbox-foreground-4: var(--gruvbox-light-4);
    --gruvbox-background-0: var(--gruvbox-dark-0);
    --gruvbox-background-1: var(--gruvbox-dark-1);
    --gruvbox-background-2: var(--gruvbox-dark-2);
    --gruvbox-background-3: var(--gruvbox-dark-3);
    --gruvbox-background-4: var(--gruvbox-dark-4);
    --gruvbox-red:          var(--gruvbox-dark-red);
    --gruvbox-green:        var(--gruvbox-dark-green);
    --gruvbox-yellow:       var(--gruvbox-dark-yellow);
    --gruvbox-blue:         var(--gruvbox-dark-blue);
    --gruvbox-purple:       var(--gruvbox-dark-purple);
    --gruvbox-aqua:         var(--gruvbox-dark-aqua);
    --gruvbox-gray:         var(--gruvbox-dark-gray);
    --gruvbox-orange:       var(--gruvbox-dark-orange);
    --gruvbox-red-alt:      var(--gruvbox-dark-red-alt);
    --gruvbox-green-alt:    var(--gruvbox-dark-green-alt);
    --gruvbox-yellow-alt:   var(--gruvbox-dark-yellow-alt);
    --gruvbox-blue-alt:     var(--gruvbox-dark-blue-alt);
    --gruvbox-purple-alt:   var(--gruvbox-dark-purple-alt);
    --gruvbox-aqua-alt:     var(--gruvbox-dark-aqua-alt);
    --gruvbox-gray-alt:     var(--gruvbox-dark-gray-alt);
    --gruvbox-orange-alt:   var(--gruvbox-dark-orange-alt);

    /* Whole site parameters */
    --border-radius: 2px;
    --thumb-size: 80pt;
    --border-thickness: 2px;
    --box-shadow: 0 0 10px -2px rgba(0, 0, 0, 0.3);

    /* Defaults */
    --sans-font-family: 'Oxygen', sans-serif;
    --mono-font-family: 'Oxygen Mono', monospace;
    /*--serif-font-family: serif;*/

    font-family: var(--sans-font-family);
    font-size: 12pt;
}

/* Light Mode Changes */
@media (prefers-color-scheme: light) {
    :root {
        --gruvbox-foreground-0: var(--gruvbox-dark-0)           !important;
        --gruvbox-foreground-1: var(--gruvbox-dark-1)           !important;
        --gruvbox-foreground-2: var(--gruvbox-dark-2)           !important;
        --gruvbox-foreground-3: var(--gruvbox-dark-3)           !important;
        --gruvbox-foreground-4: var(--gruvbox-dark-4)           !important;
        --gruvbox-background-0: var(--gruvbox-light-0)          !important;
        --gruvbox-background-1: var(--gruvbox-light-1)          !important;
        --gruvbox-background-2: var(--gruvbox-light-2)          !important;
        --gruvbox-background-3: var(--gruvbox-light-3)          !important;
        --gruvbox-background-4: var(--gruvbox-light-4)          !important;
        --gruvbox-red:          var(--gruvbox-light-red)        !important;
        --gruvbox-green:        var(--gruvbox-light-green)      !important;
        --gruvbox-yellow:       var(--gruvbox-light-yellow)     !important;
        --gruvbox-blue:         var(--gruvbox-light-blue)       !important;
        --gruvbox-purple:       var(--gruvbox-light-purple)     !important;
        --gruvbox-aqua:         var(--gruvbox-light-aqua)       !important;
        --gruvbox-gray:         var(--gruvbox-light-gray)       !important;
        --gruvbox-orange:       var(--gruvbox-light-orange)     !important;
        --gruvbox-red-alt:      var(--gruvbox-light-red-alt)    !important;
        --gruvbox-green-alt:    var(--gruvbox-light-green-alt)  !important;
        --gruvbox-yellow-alt:   var(--gruvbox-light-yellow-alt) !important;
        --gruvbox-blue-alt:     var(--gruvbox-light-blue-alt)   !important;
        --gruvbox-purple-alt:   var(--gruvbox-light-purple-alt) !important;
        --gruvbox-aqua-alt:     var(--gruvbox-light-aqua-alt)   !important;
        --gruvbox-gray-alt:     var(--gruvbox-light-gray-alt)   !important;
        --gruvbox-orange-alt:   var(--gruvbox-light-orange-alt) !important;

        --box-shadow: 0 0 10px -2px rgba(255, 255, 255, 0.7);
    }
}

* {
    text-rendering: geometricPrecision;
}

html {
    width: 100%;
    min-width: 35rem;
}

body {
    background-color: var(--gruvbox-background-0);
    color: var(--gruvbox-foreground-1);
    text-align: center;
}

label {
    word-spacing: 0;
}

label {
    cursor: pointer;
}

input {
    display: inline;
    border-radius: 0;
    border: var(--border-thickness) solid var(--gruvbox-foreground-1);
    background-color: var(--gruvbox-foreground-1);
    color: var(--gruvbox-background-0);
    font-family: var(--sans-font-family);
    border-radius: var(--border-radius);
}

input[type="text"] {
    background-color: var(--gruvbox-background-1);
    color: var(--gruvbox-foreground-0);
    height: 1.1rem;
    box-sizing: content-box;
    padding: 0.1rem 0.25rem;
}

input[type="radio"] {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    display: inline-block;
    height: 0.6em;
    width: 0.6em;
    border-radius: 100%;
    border: var(--border-thickness) solid var(--gruvbox-foreground-1);
    background-color: var(--gruvbox-background-0);
    cursor: pointer;
    vertical-align: baseline;
    margin-right: 0.5em;
    margin-left: 0.15em;
}

input[type="radio"]:checked {
    background-color: var(--gruvbox-foreground-1);
}

input[type="button"] {
    height: 1.1rem;
    cursor: pointer;
    box-sizing: content-box;
    padding: 0.1rem 0.5rem;
}

input:focus,
input[type="button"]:hover {
    outline-style: solid;
    outline-color: var(--gruvbox-yellow);
    outline-width: var(--border-thickness);
    outline-offset: 0;
}

a,
a:visited,
input[type="button"].link-button {
    display: inline;
    height: unset;
    border: none;
    padding: 0;
    border-radius: 0;
    background-color: transparent;
    color: var(--gruvbox-blue);
    text-decoration: none;
}

input[type="button"].link-button.not-available {
    color: var(--gruvbox-gray);
    cursor: not-allowed;
}

input[type="button"].link-button.not-available:hover {
    color: var(--gruvbox-gray);
    text-decoration: none;
    cursor: not-allowed;
}

a:hover,
input[type="button"].link-button:hover {
    color: var(--gruvbox-blue-alt);
    text-decoration: underline;
    outline: none;
}

input[type="button"].link-button:focus {
    outline: none;
}

::selection,
::-moz-selection {
    color: var(--gruvbox-dark-0);
    background-color: var(--gruvbox-purple-alt);
    border-radius: var(--border-radius);
}

.post-container {
    display: grid;
    grid-template-rows: auto auto;
    grid-template-columns: var(--thumb-size) auto;
    gap: 1rem;
    margin-top: 1rem;
    column-gap: 1rem;
    border-bottom: var(--border-thickness) solid var(--gruvbox-background-2);
}

.post-container-left {
    grid-row: 1;
    grid-column: 1;
    user-select: none;
}

.post-container-right {
    grid-row: 1;
    grid-column: 2;
}

.post-container-bottom {
    grid-row: 2;
    grid-column: 1 / 3;
}

.post-thumb-box {
    box-sizing: border-box;
    border: var(--border-thickness) solid var(--gruvbox-background-1);
    background-color: var(--gruvbox-background-1);
    border-radius: var(--border-radius);
    width: var(--thumb-size);
    overflow: hidden;
    box-shadow: var(--box-shadow);
}

.post-score {
    text-align: center;
    max-width: 100%;
    font-size: 0.9rem;
    padding: 0.2rem 0;
}

.post-thumbnail,
.post-no-thumbnail {
    width: 100%;
    overflow: hidden;
    max-width: 100%;
}

.post-thumbnail img {
    border-radius: var(--border-radius);
    display: block;
    width: 100%;
    height: auto;
    image-rendering: optimizeSpeed;
}

.post-no-thumbnail {
    border-radius: var(--border-radius);
    background-color: var(--gruvbox-background-1);
    height: 5rem;
    width: 100%;
}

.post-title,
.post-title:visited {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--gruvbox-orange);
}

.post-title:hover {
    color: var(--gruvbox-orange-alt);
    text-decoration: underline;
}

.post-title.sticky-post,
.post-title.sticky-post:visited {
    color: var(--gruvbox-green);
}

.post-title.sticky-post:hover {
    color: var(--gruvbox-green-alt);
    text-decoration: underline;
}

.post-byline {
    font-size: 0.8rem;
    margin: 0.2rem 0;
}

.post-nsfw-tag {
    color: var(--gruvbox-red);
    font-weight: bold;
    cursor: help;
}

.post-nsfw-tag:hover {
    color: var(--gruvbox-red-alt);
}

.post-nsfw-tag:hover::after {
    content: ": this content may be inappropriate for some";
    font-weight: normal;
}

.post-spoiler-tag {
    color: var(--gruvbox-aqua);
    font-weight: bold;
    cursor: help;
}

.post-spoiler-tag:hover {
    color: var(--gruvbox-aqua-alt);
}

.post-spoiler-tag:hover::after {
    content: ": this content may contain spoilers";
    font-weight: normal;
}

.post-links {
    display: inline-block;
    margin-right: 0.5em;
    font-weight: bold;
    font-size: 1rem;
}

.post-comments-container,
.post-preview-container {
    box-sizing: border-box;
    width: 100%;
    height: fit-content;
    border: var(--border-thickness) solid var(--gruvbox-background-1);
    border-radius: var(--border-radius);
    background-color: var(--gruvbox-background-1);
    margin-bottom: 1rem;
    box-shadow: var(--box-shadow);
}

.post-preview-container-rawhtml,
.post-preview-container-selftext {
    box-sizing: border-box;
    width: 100%;
    height: fit-content;
    resize: vertical;
    overflow: auto;
    padding: 0 1rem;
    border-radius: inherit;
}

.post-preview-container-rawhtml {
    border: var(--border-thickness) solid var(--gruvbox-purple);
    border-radius: var(--border-radius);
}

.post-preview-container-media {
    position: relative;
    display: block;
    width: 100%;
    height: 75vh;
    overflow: hidden;
    resize: vertical;
    min-height: 5rem;
    border-radius: inherit;
}

.post-preview-container-media iframe {
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    width: 100%;
    height: 100%;
    border: none;
    margin: 0;
    padding: 0;
    border-radius: inherit;
}

.post-preview-container-imgs {
    box-sizing: border-box;
    width: 100%;
    max-width: 100%;
    height: 75vh;
    resize: vertical;
    overflow: auto;
    text-align: center;
    padding: 0.5rem 0.5rem 0 0.5rem;
}

.post-preview-container-imgs img {
    display: block;
    margin: 0 auto 0.5rem auto;
    box-sizing: border-box;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    border: var(--border-thickness) solid var(--gruvbox-foreground-1);
    height: calc(100% - 0.5rem - 0.5px); /* Account for bottom margin */
    width: auto;
    image-rendering: optimizeQuality;
    cursor: zoom-in;
}

.post-comments-container {
    box-sizing: border-box;
    padding: 0 1rem;
    max-height: 75vh;
    min-height: 3rem;
    resize: vertical;
    overflow-y: auto;
}

/* 
    kind of hacky, but ignore the max height
    if the element is resized
*/
.post-comments-container[style*="height"] {
    max-height: unset; 
}

button.toggle-thread-view {
    width: 1.5rem;
}

.comment-note {
    padding: 1rem 0;
    text-align: center;
    cursor: wait;
}

.comment-container {
    border-left: var(--border-thickness) solid var(--gruvbox-background-3);
    margin: 0.75rem 0;
    padding: 0 1rem;
}

.comment-container:hover {
    border-color: var(--gruvbox-yellow);
}

.comments-continue-link {
    font-weight: bold;
    font-size: 0.75rem;
}

.comment-author {
    font-size: 0.95rem;
}

.comment-byline {
    font-size: 0.8rem;
    color: var(--gruvbox-gray);
}

.comment-body {
    margin: 0.5rem 0;
}

.comment-links a {
    display: inline-block;
    margin-right: 0.5em;
    font-weight: bold;
    font-size: 0.75em;
}

.not-affiliated::after {
    font-size: 0.7em;
    vertical-align: top;
    content: "\2020";
    color: var(--gruvbox-red);
    cursor: help;
}

#main-page {
    display: inline-block;
    width: clamp(30rem, 80%, 100rem);
    text-align: left;
}

#error-container h1 {
    color: var(--gruvbox-red);
}

#navigator {
    text-align: center;
    border-bottom: var(--border-thickness) solid var(--gruvbox-background-2);
    padding: 0.25rem 0 1rem 0;
    margin-bottom: 1rem;
    font-size: 0.9rem;
    line-height: 2em;
}

#subreddit-label {
    font-weight: bold;
    font-size: 1em;
}

#subreddit-name {
    width: 10em;
    margin-right: 0.5em;
    margin-left: 1pt;
}

#next-page-link {
    display: block;
    text-align: center;
    font-size: 1.1rem;
    font-weight: bold;
    margin-top: 1rem;
}

#quick-links {
    margin-top: 2rem;
    font-size: 0.8rem;
    text-align: center;
}

#quick-links-body {
    columns: 2;
}

#quick-links-body a {
    color: var(--gruvbox-foreground-4);
}

#quick-links-note {
    margin-top: 0.5em;
    color: var(--gruvbox-red);
    cursor: help;
}

#quick-links-note::before {
    font-size: 0.7em;
    vertical-align: top;
    content: "\2020";
    color: var(--gruvbox-red);
}


/* Pi easter egg */
#pi-easter-egg-cont {
    text-align: right;
    margin: 1rem;
}

#pi-easter-egg,
#pi-easter-egg:visited {
    font-family: 'Times New Roman', Times, serif;
    font-size: 1.2rem;
    padding: 1rem;
    color: var(--gruvbox-background-1);
}

#pi-easter-egg:hover {
    color: var(--gruvbox-blue-alt);
}

#pi-easter-egg:hover::before {
    font-family: var(--sans-font-family);
    font-size: 0.75rem;
    content: "https://www.youtube.com/watch?v=dQw4w9WgXcQ ";
}

/* Reddit Markdown Styling */

.md .md-spoiler-text {
    background-color: var(--gruvbox-aqua);
    color: transparent;
    cursor: none;
    font-weight: bold;
    border-radius: var(--border-radius);
}

.md .md-spoiler-text:hover {
    background-color: transparent;
    color: var(--gruvbox-aqua);
}


.md * {
    margin: 0.5rem 0;
}

.md h1 {
    font-size: 1.25em;
}

.md h2 {
    font-size: 1.2em;
}

.md h3 {
    font-size: 1.15em;
}

.md h4 {
    font-size: 1.1em;
}

.md h5 {
    font-size: 1.05em;
}

.md h6 {
    font-size: 1em;
}

.md hr {
    height: var(--border-thickness);
    background-color: var(--gruvbox-foreground-1);
    border: none;
}

.md table {
    border-collapse: collapse;
    border: var(--border-thickness) solid var(--gruvbox-foreground-1);
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}

.md td,
.md th {
    padding: 0.2em 0.5em;
    border-right: var(--border-thickness) solid var(--gruvbox-foreground-1);
    border-bottom: var(--border-thickness) dotted var(--gruvbox-foreground-1);
}

.md th {
    border-bottom: var(--border-thickness) solid var(--gruvbox-foreground-1);
}

.md code, .md pre {
    color: var(--gruvbox-green);
    font-family: var(--mono-font-family);
    white-space: pre-wrap;
}

.md blockquote {
    display: block;
    border-left: var(--border-thickness) solid var(--gruvbox-foreground-1);
    padding-left: 1rem;
    margin-left: 0rem;
    font-style: italic;
}

.md blockquote em,
.md blockquote i {
    font-style: normal;
}

.md img {
    display: block;
    box-shadow: var(--box-shadow);
    border: var(--border-thickness) solid var(--gruvbox-foreground-1);
    border-radius: var(--border-radius);
    height: 5rem;
    width: auto;
}
